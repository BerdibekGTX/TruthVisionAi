# Инструкции по развертыванию TruthVisionAI

Этот документ содержит пошаговые инструкции по развертыванию бэкенда на Railway и фронтенда на Vercel.

---

### Шаг 1: Подготовка репозитория

1.  **Создайте репозиторий на GitHub:**
    *   Загрузите все созданные файлы (`backend/` и `frontend/`) в новый репозиторий на GitHub.
    *   Убедитесь, что структура проекта соответствует той, что была разработана:
        ```
        /
        ├── backend/
        │   ├── main.py
        │   ├── detector.py
        │   └── requirements.txt
        └── frontend/
            ├── src/
            │   └── ...
            └── package.json
        ```

---

### Шаг 2: Развертывание бэкенда на Railway

Railway автоматически определит, что это Python-проект, и установит зависимости из `requirements.txt`.

1.  **Создайте аккаунт на [Railway](https://railway.app/).**
2.  **Создайте новый проект:**
    *   Нажмите "New Project" и выберите "Deploy from GitHub repo".
    *   Подключите свой GitHub-аккаунт и выберите созданный репозиторий.
3.  **Настройте сервис:**
    *   **Root Directory:** Railway может попросить указать корневую директорию для этого сервиса. Укажите `backend`. Это крайне важно, чтобы Railway искал `requirements.txt` именно там.
    *   **Start Command:** Railway обычно автоматически определяет команду `uvicorn main:app --host 0.0.0.0 --port $PORT`. Если нет, вы можете указать ее вручную в настройках сервиса. Переменная `$PORT` предоставляется Railway автоматически.
4.  **Сгенерируйте публичный URL:**
    *   После первого деплоя перейдите в настройки вашего сервиса (`Settings`).
    *   В разделе "Domains" или "Networking" нажмите "Generate Domain", чтобы получить публичный URL для вашего API (например, `https://truthvision-ai-backend-production.up.railway.app`).
    *   **Обязательно проверьте, что API работает,** перейдя по адресу `ВАШ_URL/health`. Вы должны увидеть `{"status":"ok"}`.

---

### Шаг 3: Развертывание фронтенда на Vercel

Vercel идеально подходит для развертывания React-приложений, созданных с помощью Vite.

1.  **Создайте аккаунт на [Vercel](https://vercel.com/).**
2.  **Импортируйте проект:**
    *   Нажмите "Add New..." -> "Project".
    *   Подключите свой GitHub-аккаунт и выберите тот же репозиторий.
3.  **Настройте проект:**
    *   **Framework Preset:** Vercel автоматически определит, что это `Vite`.
    *   **Root Directory:** В настройках сборки (`Build & Development Settings`) найдите поле "Root Directory" и установите его в `frontend`. Это укажет Vercel, что `package.json` и исходный код фронтенда находятся в этой папке.
4.  **Добавьте переменную окружения:**
    *   Перейдите в настройки проекта -> "Environment Variables".
    *   Создайте новую переменную:
        *   **Name:** `VITE_API_URL`
        *   **Value:** Вставьте сюда публичный URL, который вы получили от Railway на предыдущем шаге.
    *   Это позволит вашему React-приложению знать, куда отправлять запросы на бэкенд в продакшене.
5.  **Нажмите "Deploy":**
    *   Vercel автоматически установит зависимости, соберет проект (`vite build`) и развернет его.
    *   После завершения вы получите URL вашего готового веб-приложения.

---

### Готово!

Теперь ваше приложение TruthVisionAI должно быть полностью рабочим.

*   **Бэкенд** работает на Railway, предоставляя API.
*   **Фронтенд** работает на Vercel, взаимодействуя с API бэкенда.

При каждом `git push` в основную ветку вашего репозитория, Railway и Vercel будут автоматически запускать новые сборки и обновлять ваши приложения.
